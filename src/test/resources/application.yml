#
# (c) Copyright 2024-2024, Agence du Numérique en Santé (ANS) (https://esante.gouv.fr). All rights reserved.
#

server:
  port: 8080
spring:
  cloud:
    gateway:
      routes:
        # Here we see that no route defines the trace filter => this will not be prone to forgetting them
        - id: backend-1
          uri: http://localhost:8081/
          predicates:
          - Path=/send/backend-1/{endpoint}
          filters:
          - SetPath=/{endpoint}
        - id: backend-2
          uri: http://localhost:8082/
          predicates:
          - Path=/send/backend-2/{endpoint}
          filters:
          - SetPath=/{endpoint}
psc:
  discoveryURL: http://localhost:8443/auth/realms/esante-wallet/.well-known/wallet-openid-configuration
  clients:
    client-id-of-test:
      type: SECRET,
      secret: my_client_secret
    client-id2-of-test: 
      type: SECRET,
      secret: the_other_client_secret